
<!doctype html>
<html lang="en">
  <head>
    <title>
      FubuMVC - Overview</title>
    
<meta charset="utf-8"/>
<meta name="description" content="FubuDocs"/>
<meta name="author" content="FubuDocs"/>




<link href="/_content/styles/sons-of-obsidian.css" rel="stylesheet" type="text/css" />
<link href="/_content/styles/toastr.css" rel="stylesheet" type="text/css" />
<link href="/_content/styles/twitter/bootstrap.min.css" rel="stylesheet" type="text/css" />
<link href="/_content/styles/twitter/bootstrap-responsive.min.css" rel="stylesheet" type="text/css" />
<link href="/_content/styles/toastr-responsive.css" rel="stylesheet" type="text/css" />
<link href="/_content/styles/fubudocs.core.css" rel="stylesheet" type="text/css" />
<link href="/_content/styles/fubudocs.theme.css" rel="stylesheet" type="text/css" />

<link media="screen" type="text/css" rel="stylesheet" href="http://fonts.googleapis.com/css?family=Oswald:400,300">
  </head>
  <body data-spy="scroll" data-target=".bs-docs-sidebar">
      
    <div class="container">
      
      

<div class="row">
  <div class="span6">
    <p class="logo">
      <a href="/topics" title="Fubu" class="root-link"><span>Fubu</span></a>
      <a href="/fubumvc" title="The MVC framework that gets out of your way" class="project-logo"><span>FubuMVC</span></a>
    </p>
  </div>
  <div class="span6">
    <div class="top-header text-right">
      <em>
        <em><a href="https://groups.google.com/forum/?fromgroups#!forum/fubumvc-devel">Join our vibrant mailing list</a></em>
      </em>
      <div class="social">
        <a href="http://github.com/DarthFubuMVC/FubuMVC" class="ico-github"><img alt="Github" src="/_content/images/github-icon.png" /></a>
      </div>
    </div>
  </div>
</div>
      

      <div id="nav-follow" class="navbar">
        <div class="navbar-inner">
          <div class="container">
            <ul class="nav"><li><a href="/fubumvc" data-key="index">FubuMVC &#187;</a></li><li><a href="/fubumvc/introduction" data-key="index">Introduction &#187;</a></li><li class="active"><a href="/fubumvc/introduction/overview" data-key="overview">Overview &#187;</a></li></ul>
<ul class="nav" style="float:right"><li><a href="/fubumvc/introduction" title="Introduction">Previous</a></li><li><a href="/fubumvc/introduction/getting-fubumvc" title="Getting FubuMVC">Next</a></li></ul>
          </div>
        </div>
      </div>
      <hr/>
      <div class="row">
        
        

        <div class="row">
          <div class="span3 sidebar">
            
            <h3 class="half-margin">Topics</h3>
            <ul id="page-toc" class="nav nav-tabs nav-stacked affix">
            </ul>
            <br/>
            <h3>
              FubuMVC v1.0.0.0
            </h3>

            <br/>
            <h3 class="no-margin">Next</h3>
<p><a href="/fubumvc/introduction/getting-fubumvc" data-key="getting-fubumvc">Getting FubuMVC</a></p>
<h3 class="no-margin">Previous</h3>
<p><a href="/fubumvc/introduction" data-key="index">Introduction</a></p>
          </div>
          <div class="span9">

              <h1 class="no-margin">Overview</h1>
              <hr class="header-line topic-line"></hr>

            <!--Title: Overview-->
<!--Url: overview-->
<p>This guide covers getting up and running a simple FubuMVC application.
After reading it, you should be familiar with:</p>

<ul>
<li>What FubuMVC is, why I might (or might not) use it, and how I get started</li>
<li>Using NuGet to download and install FubuMVC in a new Visual Studio.NET
project</li>
<li>The general layout of a FubuMVC project</li>
<li>The basic architectural principles of FubuMVC</li>
<li>Adding simple HTTP endpoints in FubuMVC</li>
</ul>

  <div class="alert alert-info"><i class="icon-info-sign"></i>
    All the code used in this guide is available under the QuickStart project
    in the [FubuMVC](http://github.com/DarthFubuMVC/fubumvc) repository on GitHub</a>.</div>

<h1>This Guide Assumes...</h1>

<ul>
<li>That when you approach a new web application project, your first thought
 isn't to open the designer and start dragging-and-dropping your way to
 the finish line.</li>
<li>That you have a copy of Visual Studio 2010 (any SKU). While it is
 possible to run FubuMVC on Mono/Linux with nginx, Apache, or XSP, this
 guide assumes that you are working with Visual Studio.NET.</li>
<li>NuGet is installed on your machine</li>
<li>You are familiar with building basic ASP.NET applications (either
 WebForms or MVC) and know how to basically get an ASP.NET app working in
 IIS7 (Windows 2008, Windows 7).</li>
<li>That you have a good working knowledge of C1.3.0 and .NET 3.5 in general
 including generics, lambda expressions, and using interfaces.</li>
<li>That you have a desire to build .NET/ASP.NET-based web applications and
 are looking for a web framework that doesn't get in your way as much,
 allows you to test as much as possible, and helps you stay focused on
 your code and not pleasing your web framework.</li>
</ul>

  <div class="alert alert-info"><i class="icon-info-sign"></i>
    FubuMVC can work with IIS 6 (Windows 2003) and IIS 6.1 (XP), but it's more
    complicated to set up. This guide will focus on IIS 7.</div>

<h1>Introduction to FubuMVC</h1>

<h2>What is FubuMVC?</h2>

<p>FubuMVC is a <a href="http://martinfowler.com/eaaCatalog/frontController.html">Front
Controller-style</a> MVC
framework for .NET written in the C1.language. FubuMVC was started by a team of
developers who wanted to stay on the .NET platform but were unhappy with the
shape and direction of ASP.NET MVC. The goals and architectural philosophy of
FubuMVC is:</p>

<ul>
<li><p>Exploit the idea of <a href="http://msdn.microsoft.com/en-us/magazine/dd419655.aspx">convention over
configuration</a> for
better productivity, but allow users to teach FubuMVC about their own
conventions against a well-defined semantic model.</p></li>
<li><p>Decouple your application code from framework code and keep your
application relatively free from the scourges of XML configuration,
inheritance tangles, and attribute soup.</p></li>
<li><p>Remove friction from automated testing of your application code.</p></li>
<li><p>Maximize the ability to use composition throughout your application by
focusing on SOLID principles, separation of concerns,
<a href="http://en.wikipedia.org/wiki/Don't_repeat_yourself">DRY</a>. Internally,
FubuMVC uses your application's Inversion of Control container to build out
its own dependencies.</p></li>
<li><p>Modular architectures. FubuMVC includes the most sophisticated and
capable infrastructure for modularizing and extending web applications in
the .NET ecosystem.</p></li>
<li><p>Provide a less painful development experience with informative
diagnostics about your application</p></li>
<li><p>Use static typing in an advantageous way. Many other alternative web
frameworks in the .NET space are faithful copies of Ruby or Python
frameworks that have neither the strengths of Ruby/Python or C1. FubuMVC
uses the rich metadata from static typing to drive conventions and reduce
errors. If you prefer Ruby on Rails or Sinatra style development, we
think you should use Ruby on Rails or Sinatra instead of attempting to
work that way inside of C1.</p></li>
<li><p>Eliminate the dreaded "tag soup" problem in views by using advanced HTML
helpers and conventions to DRY up your views</p></li>
</ul>

<h2>What do I need to know before I get started?</h2>

<p>FubuMVC is open source. That means it's developed, for free, by dedicated
individuals without a lot of free time (we have families and day jobs). While
we try to provide a nice, polished experience for developer, it can't always
succeed in that objective. FubuMVC is licensed under the permissive Apache 2.0
license:
<a href="https://github.com/DarthFubuMVC/fubumvc/raw/master/license.txt">https://github.com/DarthFubuMVC/fubumvc/raw/master/license.txt</a>.
Contributions are most certainly welcome, just fork the <a href="https://github.com/DarthFubuMVC/fubumvc">Git
repository</a> and start firing off pull
requests.</p>

<p>As of May 2011, FubuMVC is powering production websites at 56 companies with
more in development. While we know that FubuMVC will never attain the usage of
the official Microsoft offerings, we would like to have more users just to make
the ecosystem richer and more viable for the long run.</p>

  <div class="alert alert-info"><i class="icon-info-sign"></i>
    FubuMVC will be rougher and more raw than something you might get from
    Microsoft or a 3rd party library vendor. Please bear with us as we improve
    and make FubuMVC better. Your feedback and suggestions are always welcome.
    Your assistance and time are welcome more, though :)</div>

<h1>Core Architecture</h1>

<p>FubuMVC takes a slightly different approach to the classic <a href="http://en.wikipedia.org/wiki/Model_2">Model 2 Model View
Controller pattern</a> that puts more focus
on composing a pipeline of what we call "behaviors" that are completely unaware
of each other rather than the traditional Model-View-Controller triad.</p>

<p>A typical web request for a view will look something like:</p>

<ol>
<li><p>An HTTP request is received by the web server. The ASP.NET routing
 module acts as a front controller to choose a "chain" of behaviors to
 execute.</p></li>
<li><p>The first behavior calls an "action" (think Controller) that interacts
 with the rest of your application and returns a view model representing
 the data to be rendered by the view.</p></li>
<li><p>A second behavior invokes a WebForms or Spark view to render the view
 model that was returned from the action in the previous step.</p></li>
</ol>

<p>As far as a developer is concerned, all the familiar elements of classic MVC
are present, but there's nothing to stop you from composing a different
pipeline of behaviors for more sophisticated request handling.</p>

<h2>View Models</h2>

<p>View models are typically <a href="http://en.wikipedia.org/wiki/Data_transfer_object">Data Transfer
Objects</a> that are either
inputs to or outputs from behaviors. It's probably advantageous to think of
view models as messages passed to or between behaviors. As a baked in
"opinion," FubuMVC strongly prefers that the input models are unique across
actions in your application. FubuMVC can use an input model to resolve URL's or
authorization rules in the system. Likewise, output model signatures from
action methods are used to "attach" view and other output behaviors to a
behavior chain.</p>

<h2>Actions (Controllers)</h2>

<p>In classic MVC the controllers have the responsibility of processing the HTTP
input and deciding what data was to be displayed by the view layer.  In FubuMVC
this responsibility is performed by what we simply call "actions." Actions in
FubuMVC are just methods on concrete
<a href="http://en.wikipedia.org/wiki/Plain_Old_CLR_Object">POCO</a> classes in your
application that will be called during an HTTP request like the following:</p>

<pre data-linenums="4" class="prettyprint lang-cs">
    public class HomeController
    {
        public HomeViewModel Home(HomeInputModel inputModel)
        {
            return new HomeViewModel();
        }
    }

    public class HomeInputModel
    {
    }

    public class HomeViewModel
    {
    }
</pre>

<p>Typically, you will let FubuMVC marshal the raw HTTP data into an input model,
then FubuMVC will call your action method directly and store any output where
later behaviors can find it. This is what we call the "one model in, one model
out" philosophy, meaning that actions should typically only be concerned with
your application's data and services rather than exercising framework
machinery.</p>

<p>One of the original goals of FubuMVC was to simplify our controller actions so
that all they had to do was process a request object and return a response with
no coupling to giant base classes or repetitive boilerplate code just to feed
the framework. We believe that the "one model in, one model out" opinion
makes our code easier to read, write, and test by removing the noise code so
prevalent in other .NET solutions. It also greatly improves our ability to
compose the runtime pipeline and creates traceability between parts of the
application.</p>

<h2>Views</h2>

<p>Now that you've got view models and actions to process them, you need something
to render the view model into HTML. As of this writing, FubuMVC supports the
Web Forms and Spark view engines. In addition, you can happily have actions
spit out raw HTML or
<a href="https://github.com/DarthFubuMVC/htmltags">HtmlTag/HtmlDocument</a> objects.</p>

<h2>Behaviors and Behavior Chains</h2>

<p>During day to day development most developers are going to be working strictly
with view models, actions, and views. Internally, the FubuMVC framework sees
all these things as a chain of "behavior" objects nested within each other in
what we frequently refer to as the <a href="http://codebetter.com/jeremymiller/2011/01/09/fubumvcs-internal-runtime-the-russian-doll-model-and-how-it-compares-to-asp-net-mvc-and-openrasta/">Russian Doll
Model</a>.</p>

<p>Even a simple HTTP request is likely to be handled by multiple behaviors. While
FubuMVC comes out of the box with behaviors for common tasks like Json
serialization/deserialization, calling actions, and rendering views, you can
build your own custom behaviors.</p>

<h2>Wrappers</h2>

<p>Wrappers are simply behaviors that you can use to perform additional work
during an HTTP request like authorization checks, caching, activity tracking,
or just extra auditing.</p>

<h2>BehaviorGraph and FubuRegistry</h2>

<p>FubuMVC contains a configuration model called BehaviorGraph that completely
models how each possible HTTP endpoint will be handled. For each HTTP endpoint
in the system, BehaviorGraph models:</p>

<ol>
<li>Routes and URL's</li>
<li>Behavior Chains</li>
<li>Actions to be called</li>
<li>Views or other output behaviors like Json output that will be called</li>
<li>Authorization rules</li>
<li>Wrappers</li>
</ol>

<p>You won't work directly with these objects daily, but understanding the
underlying BehaviorGraph model is crucial to writing your own FubuMVC
conventions and policies later.</p>

<h2>Inversion of Control Container</h2>

<p>FubuMVC is built around the idea of composition, but that composition can come
at a cost. FubuMVC uses your application's IoC container to assemble all the
various pieces, services, behaviors, and extensions that make up a functioning
FubuMVC application. We like to say that FubuMVC is "Dependency Injection
turtles all the way down," meaning that <strong>all</strong> FubuMVC services are resolved
from the IoC container without hacks like "IDependencyResolver."</p>

  <div class="alert alert-info"><i class="icon-info-sign"></i>
    At this writing (May 2011), FubuMVC only supports the StructureMap container,
    but work is ongoing to add Castle Windsor support for a following release.</div>

<h2>Bottles</h2>

<p>FubuMVC uses the <a href="https://github.com/DarthFubuMVC/bottles">Bottles project</a>
for modularity.  Bottles can be used to break your application up into
different "areas" or to extend your application with new content or abilities.</p>

<h2>Web.config dependencies</h2>

<p>I wish it wasn't so, but for now FubuMVC has some required dependencies that
must be configured via XML in web.config:</p>

<ol>
<li>The System.Web.Routing.UrlRoutingModule module must be registered</li>
<li>Access to the folder "Content" should be authorized for all users
 (this is where FubuMVC assumes that content like images, scripts, and
 styles are stored)</li>
<li>Access to the folder "_content" should be authorized for all users
 (this is where FubuMVC assumes that content like images, scripts, and
 styles are stored for packages. This will be changed in the near
 term)</li>
<li>Access to the folder "fubu-content" should be denied for all users.
 This folder is related to the Bottles support in FubuMVC</li>
</ol>



          </div>
        </div>
      </div>
    </div>

    

<script type="text/javascript" src="/_content/scripts/jquery-1.8.2.min.js"></script>
<script type="text/javascript" src="/_content/scripts/prettify.js"></script>
<script type="text/javascript" src="/_content/scripts/bootstrap-prettify.js"></script>
<script type="text/javascript" src="/_content/scripts/fubudocs.js"></script>
<script type="text/javascript" src="/_content/scripts/jquery.nestable.js"></script>
<script type="text/javascript" src="/_content/scripts/toastr.js"></script>
<script type="text/javascript" src="/_content/scripts/twitter/bootstrap.min.js"></script>
<script type="text/javascript" src="/_content/scripts/fubudocs-tools.js"></script>
<script type="text/javascript" src="/_content/scripts/twitter/bootstrap-affix.js"></script>
<script type="text/javascript" src="/_content/scripts/topics.js"></script>

<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
    </p>
    <p>
      Powered by <a href="http://github.com/DarthFubuMVC/FubuDocs">FubuDocs</a>.
    </p>
  </div>
</footer>
  </body>
</html>